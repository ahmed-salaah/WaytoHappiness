//
//  SideMenuViewController.m
//  WayToHappiness
//
//  Created by Mohamed Abd El-latef on 3/13/14.
//  Copyright (c) 2014 Mohamed Abd El-latef. All rights reserved.
//



/*
 <h2>كل الناس تبحث عن السعادة، فأين الطريق؟!</h2><h3 id='1'>  متفقون على غاية واحدة </h3><div class="shahed"> <div class='shahed'><img src='/>/>/>documentspath/>/>/>/>#'Benjamin_Disraeli.jpg/><h4> بنجامين ديزرائيلي </h4><h5>رئيس وزراء بريطانيا سابقًا</h5><h6>السعادة بمقابل</h6><span>"ربما تقوم بشيء لا يجلب لك  السعادة، ولكن ليست هناك سعادة  دون القيام بشيء". </span></div><p>يسعى كل إنسان على وجه البسيطة إلى السعادة، فرغم اختلاف الناس في مذاهبهم وأعراقهم، ومشاربهم ومبادئهم، وغاياتهم ومقاصدهم، إلا إنهم يتفقون في غاية واحدة؛ إنها: طلب السعادة والطمأنينة. </p><p>لو سألت أي إنسان: لم تفعل هذا؟ ولأي شيء تفعل ذاك؟ لقال: أريد السعادة!! سواء أقالها بحروفها أم بمعناها، بمدلولها أم بحقيقتها.</p><h3 id='2'>   ما هي السعادة؟ </h3><p>فما هي السعادة، وكيف نصل إليها؟!</p><p>السعادة هي الشعور المستمر بالغبطة والطمأنينة والأريحية والبهجة، وهذا الشعور السعيد يأتي نتيجة للإحساس الدائم بثلاثة أمور: خيرية الذات، وخيرية الحياة، وخيرية المصير.</p><div class="shahed"> <div class='shahed'><img src='/>/>/>documentspath/>/>/>/>#'Tolstoy.jpg/><h4>تولستوي</h4><h5>أديب روسي</h5><h6>السعادة أقرب ما تكون إلينا</h6><span>"إننا نبحث عن السعادة غالبًا وهي قريـبة منا، كما نبحث في كثير من الأحيان عن النظارة وهي فوق عيوننا".</span></div><p>وحول هذه الأمور الثلاثة تبدأ تساؤلات الإنسان مع نفسه، وتكبر كلما كبر، ولا يجد السعادة حتى يجيب نفسه على تساؤولاتها التي تتوارد على ذهنه، ومنها:</p><p>ـ مَن يملك هذا الكون ويتصرف فيه؟</p><p>ـ مَن خلقني وخلق هذا الكون من حولي؟ </p><p>ـ مَن أنا؟ ومن أين جئت؟ ولماذا خُلقت؟ وإلى أين المصير</p><div class="shahed"> <dhjbhjhjiv class='shahed'><img src='/>/>/>documentspath/>/>/>/>#'Lewis_Carroll.jpg/><h4>لويس كارول</h4><h5>عالم رياضيات</h5><h6>تعددت الطرق والله واحدٌ</h6><span>"إذا لم تكن تعرف إلى أين أنت ذاهب، فكل الطرق ستأخذك إلى هناك".</span></div><p>ولما زاد وعي الإنسان بنفسه وبحياته ازدادت هذه الأسئلة إلحاحًا على عقله وتفكيره وروحه، ولا يجد الطمأنينة والسعادة حتى يجد جوابًا تسكن به نفسه.</p> */







/*
 <h2>أي الأديان ينطبق عليها معايير الدين الحق؟</h2>
 <h3 id='1'> أقسام الديانات</h3>
 <div class="shahed"><h4>%%</h4>
 <h6>ولكن الله واحد..</h6>
 <span>"تعب الباحثون وهم يحصون عدد الآلهة في الديانات الأرضية؛ فعدد آلهة المصريين القدماء يزيد على 800 إله، وعدد الآلهة لدى الهندوس أكثر من 10.000 إله، ومثل هذا الشرك لدى اليونان الإغريق ولدى البوذية وغيرهم من أصحاب الديانات الأرضية".</span></div>
 <p>يمكن تقسيم الديانات حسب مصدرها إلى قسمين: </p>
 <p>ديانات أرضية بشرية ليست سماوية، يحددها ويطورها بشر، وليست منزَّلة من الله سبحانه؛ كالبوذية والهندوسية والمجوسية والوثنية، فهؤلاء أبعد ما يكونوا عن الدين الحق، ولكن دينهم يأتي على حسب أهوائهم<strong>{أَفَرَأَيْتَ مَنِ اتَّخَذَ إِلَهَهُ هَوَاهُ وَأَضَلَّهُ اللَّهُ عَلَى عِلْمٍ وَخَتَمَ عَلَى سَمْعِهِ وَقَلْبِهِ وَجَعَلَ عَلَى بَصَرِهِ غِشَاوَةً فَمَنْ يَهْدِيهِ مِنْ بَعْدِ اللَّهِ أَفَلَا تَذَكَّرُونَ}</strong> <small>[الجاثية: 23]</small></p>
 <p> فهو ليس دينًا ربانيًّا، بل دين أهواء بشري، ولذا تجد هذه الأديان مليئة بالخرافة والدجل والطبقية والتناقض، قال تعالى<strong>{وَلَوْ كَانَ مِنْ عِنْدِ غَيْرِ اللَّهِ لَوَجَدُوا فِيهِ اخْتِلَافًا كَثِيرًا} </strong><small>[النساء: 82]</small></p>
 <div class="shahed">
 <div class='shahed'><img src='/>/>/>documentspath/>/>/>/>#'Tolstoy.jpg/>
 <h4>تولستوي </h4>
 <h5>أديب روسي</h5>
 <h6>الشريعة الحقة</h6>
 <span>"لقد فهمت.. لقد أدركت.. إن ما تحتاج إليه البشرية هو شريعة سماوية تُحق الحق، وتَزهق الباطل".</span></div>
 <p>أديان سماوية من عند الله؛ كاليهودية والمسيحية والإسلام، وأصحاب هذه الأديان قد شرع الخالق لهم دينهم وارتضاه لهم، قال تعالى<strong>{شَرَعَ لَكُمْ مِنَ الدِّينِ مَا وَصَّى بِهِ نُوحًا وَالَّذِي أَوْحَيْنَا إِلَيْكَ وَمَا وَصَّيْنَا بِهِ إِبْرَاهِيمَ وَمُوسَى وَعِيسَى أَنْ أَقِيمُوا الدِّينَ وَلَا تَتَفَرَّقُوا فِيهِ كَبُرَ عَلَى الْمُشْرِكِينَ مَا تَدْعُوهُمْ إِلَيْهِ اللَّهُ يَجْتَبِي إِلَيْهِ مَنْ يَشَاءُ وَيَهْدِي إِلَيْهِ مَنْ يُنِيبُ}</strong><small>[الشورى: 13]</small></p>
 <h3 id='2'> صفات الأديان الأرضية</h3>
 <p>ولا شك أن الأديان الأرضية مجموعة كبيرة من الأفكار والتجميعات البشرية التي تفصل بما يناسب أهواء مُشرِّعِيها، ليكتشف الناس بعد فترة وجيزة أنها لا تصلح، فيحاولوا تطويرها ويستمروا في التخبط والتيه، وتختص هذه الشرائع الأرضية بعدة خصائص منها: </p>
 <p>1. الشرك: فكل يوم يصنعون لهم إلهًا جديدًا، فآلهتهم من صنعهم، ولا يلاحظون أو يفكرون في استحالة وجود آلهة مع الله وإلا لتصارعا، قال تعالى <strong>{مَا اتَّخَذَ اللَّهُ مِنْ وَلَدٍ وَمَا كَانَ مَعَهُ مِنْ إِلَهٍ إِذًا لَذَهَبَ كُلُّ إِلَهٍ بِمَا خَلَقَ وَلَعَلَا بَعْضُهُمْ عَلَى بَعْضٍ سُبْحَانَ اللَّهِ عَمَّا يَصِفُونَ ٩١ عَالِمِ الْغَيْبِ وَالشَّهَادَةِ فَتَعَالَى عَمَّا يُشْرِكُونَ}</strong> <small>[المؤمنون:91-92]</small></p>
 <div class="shahed"><h4>%%</h4>
 <h6>الطبقية الجائرة</h6>
 <span>"التقسيم الطبقي الهندوسي يتوزع كالآتي: الطبقة البيضاء؛ وهي التي ينتمي إليها رجال الدين والعلماء، والطبقة الحمراء؛ وهي تشمل الأمراء والفرسان، والطبقة الصفراء؛ وهي تشمل المزارعين والتجار، والطبقة السوداء؛ وهي تشمل أهل الحرف اليدوية والصناعة، أمّا بالنسبة للطبقة الخامسة، أو ما يعرف بطبقة الأنجاس؛ فتشمل أهل الحرف المتدنّية. والطبقات العليا تستعبد الطبقات الدنيا، والطبقات الدنيا تخدم الطبقات العليا".</span></div>
 <p>الطبقية: تقوم الأديان غير السماوية على الطبقية والاستعباد؛ إذ إن مُشرِّعِيها يضعون لأنفسهم وطائفتهم ومن يريدون مزايا ليست لغيرهم؛ ليحققوا مرادهم وليستعبدوا غيرهم، قال تعالى <strong>{يَا أَيُّهَا النَّاسُ إِنَّا خَلَقْنَاكُمْ مِنْ ذَكَرٍ وَأُنْثَى وَجَعَلْنَاكُمْ شُعُوبًا وَقَبَائِلَ لِتَعَارَفُوا إِنَّ أَكْرَمَكُمْ عِنْدَ اللَّهِ أَتْقَاكُمْ إِنَّ اللَّهَ عَلِيمٌ خَبِيرٌ}</strong><small>[الحجرات: 13]</small></p>
 <p>، ونهى سبحانه عن النظرة الدنيا لأحد أو السخرية منه<strong>{لَا يَسْخَرْ قَومٌ مِنْ قَوْمٍ عَسَى أَنْ يَكُونُوا خَيْرًا مِنْهُمْ} </strong><small>[الحجرات: 11]</small></p>
 <p>، ولذا فعند الله لا فضل لأبيض على أسود، ولا لعرق على عرق، ولا لقومية على قومية، بينما تقوم كثير من هذه الأديان الأرضية على طبقية مقيتة.
 مخالفة الفطرة: حيث تخالف الأديان الأرضية الفطرة، وتقوم على تحميل الإنسان ما لا يحتمله، وتقوم على معاكسة ومخالفة الطبيعة البشرية والعقل السوي، فأصحابها قد ابتعدوا عن الصرط السوي وبدلوا تبديلًا، قال تعالى<strong>{فَأَقِمْ وَجْهَكَ لِلدِّينِ حَنِيفًا فِطْرَةَ اللَّهِ الَّتِي فَطَرَ النَّاسَ عَلَيْهَا لَا تَبْدِيلَ لِخَلْقِ اللَّهِ ذَلِكَ الدِّينُ الْقَيِّمُ وَلَكِنَّ أَكْثَرَ النَّاسِ لَا يَعْلَمُونَ}</strong> <small>[الروم: 30]</small></p>
 <div class="shahed"><h4>%%</h4>
 <h6>تناقضات بوذية</h6>
 <span>"ينكر البوذيون الإله ويدَّعون ـ أو بعضهم ـ أن بوذا ابن الله، وينكرون الروح، ويؤمنون بتناسخ الأرواح".</span></div>
 <p>الخرافة: هي الاعتقاد أو الفكرة القائمة على مجرد تخيلات دون وجود سبب عقلي أو منطقي أو علمي، والأديان الأرضية بها خرافات لا أدلة عليها ولا حجج، ولا يُبنى على الخرافة إلا خرافة، وصدق الله القائل <strong>{قُلْ هَاتُوا بُرْهَانَكُمْ إِنْ كُنْتُمْ صَادِقِينَ}</strong> <small>[النمل: 64]</small></p>
 <p>التناقض: فهي أديان مليئة بالتاقض، كل فرقة تقوم على أنقاض فرقة أخرى تخالفها وتطور منها، وصدق الله القائل <strong>{وَلَوْ كَانَ مِنْ عِنْدِ غَيْرِ اللَّهِ لَوَجَدُوا فِيهِ اخْتِلَافًا كَثِيرًا}</strong><small> [النساء: 82]</small></p>
 <h3 id='3'>  الغاية من الأديان السماوية</h3>
 <p>أما الأديان السماوية فهي نعمة من الله مَنَّ بها على البشرية؛ ليهديها وينير لها طريقها ويقيم الحجة عليها ويبعدها عن تيه الخرافة والشرك ومخالفة الفطرة والعقل، بإرسال رُسل يبلغون كلام الله ورسالته <strong>{رُسُلًا مُبَشِّرِينَ وَمُنْذِرِينَ لِئَلَّا يَكُونَ لِلنَّاسِ عَلَى اللَّهِ حُجَّةٌ بَعْدَ الرُّسُلِ وَكَانَ اللَّهُ عَزِيزًا حَكِيمًا}</strong> <small>[النساء: 165]</small></p>
 */

#import "SideMenuViewController.h"
#import "IIViewDeckController.h"
#import "PagesViewController.h"
#import "WayToHappinessSubCategoriesViewController.h"
#import "HappinessMainViewController.h"
#import "HappinessDialoguesManager.h"
#import "HappinessRoadManager.h"
#import "SideMenuCell.h"
#import "BooksMainViewController.h"
#import "VideoLibraryViewController.h"
#import "ShawahedMainViewController.h"
#define HeightForFirstRowInPortrait_iPhone 98
#define HeightForFirstRowInLandscape 55
@interface SideMenuViewController (){
    NSInteger selectedIndex;
}

@end

@implementation SideMenuViewController

- (id) initWithStyle:(UITableViewStyle)style{
    if (self = [super initWithStyle:style]) {
        
    
        
    }
    return self;
}

- (void)viewDidLoad{
    [super viewDidLoad];
    selectedIndex = 0;
    self.tableView.separatorStyle = UITableViewCellSeparatorStyleSingleLine;
    self.tableView.separatorColor = [UIColor orangeColor];
    self.tableView.backgroundColor = [UIColor greenColor];
    self.tableView.allowsMultipleSelection = NO;
    [self.tableView registerNib:[UINib nibWithNibName:@"SideMenuCell" bundle:Nil] forCellReuseIdentifier:Side_Menu_cell_ID];
    self.tableView.backgroundView = [[UIImageView alloc] initWithImage:[UIImage imageNamed:@"MnuSide_Back.png"]];
    self.tableView.bounces = NO;
    [[self.tableView cellForRowAtIndexPath:[NSIndexPath indexPathForItem:0 inSection:0]] setSelected:YES];
}

- (void)viewWillAppear:(BOOL)animated {
    [super viewWillAppear:animated];
//    [self.viewDeckController openLeftViewAnimated:NO];
}

- (void)didReceiveMemoryWarning{
    [super didReceiveMemoryWarning];
    // Dispose of any resources that can be recreated.
}

#pragma mark - Table view data source

- (NSInteger)numberOfSectionsInTableView:(UITableView *)tableView{
    // Return the number of sections.
    return 1;
}

- (NSInteger)tableView:(UITableView *)tableView numberOfRowsInSection:(NSInteger)section{
    // Return the number of rows in the section.
    return 6;
}

- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath{
    
    SideMenuCell *cell = [tableView dequeueReusableCellWithIdentifier:Side_Menu_cell_ID];
    if (!cell) {
        
        cell = (SideMenuCell *)[[UITableViewCell alloc] initWithStyle:UITableViewCellStyleDefault reuseIdentifier:Side_Menu_cell_ID];
    }
    cell.Label.text = [self titleAtIndex:indexPath.row];
    cell.iconImageView.image = [UIImage imageNamed:[self backgrounImageNameForIndex:indexPath.row]];
    cell.backgroundColor = [UIColor clearColor];
    cell.selectionStyle = UITableViewCellSelectionStyleNone;
    if (indexPath.row == selectedIndex) {
        [cell select];
    }
    return cell;
}

- (void) tableView:(UITableView *)tableView didSelectRowAtIndexPath:(NSIndexPath *)indexPath{
    [((SideMenuCell *)[tableView cellForRowAtIndexPath:[NSIndexPath indexPathForItem:selectedIndex inSection:0]]) deselect];
    selectedIndex = indexPath.row;
    [((SideMenuCell *)[tableView cellForRowAtIndexPath:indexPath]) select];
    __block SideMenuViewController *blocksafeSelf = self;
    [self.viewDeckController closeLeftViewBouncing:^(IIViewDeckController *controller) {
        blocksafeSelf.viewDeckController.centerController = [blocksafeSelf controllerAtIndex:indexPath.row];
    }];
}

- (void) tableView:(UITableView *)tableView didDeselectRowAtIndexPath:(NSIndexPath *)indexPath{

        [((SideMenuCell *)[tableView cellForRowAtIndexPath:indexPath]) setSelected:NO];
}

- (CGFloat)tableView:(UITableView *)tableView heightForRowAtIndexPath:(NSIndexPath *)indexPath{

    if ([[HelpManager sharedHelpManager] IS_iPhone5] && [[HelpManager sharedHelpManager] IS_Portrait]) {
        return indexPath.row == 0 ? HeightForFirstRowInPortrait_iPhone :IPHONE_5Height/6;
    }
    else if ([[HelpManager sharedHelpManager] IS_iPhone4] && [[HelpManager sharedHelpManager] IS_Portrait]){
        return IPHONE_4_Height/6;
    }
    else {
        return indexPath.row == 0 ? HeightForFirstRowInLandscape : IPHONE_Width/6;
    }
    return 0;

}

- (UIViewController *)controllerAtIndex:(NSInteger) index{
    UIViewController *viewController;
    switch (index) {
        case WayToHappinessViewControllerType:
            return  [self WaytoHappindessViewController];
            break;
        case HappinessRoadStoryControllerType:
            return  [self HappindessRoadViewController];
            break;
        case HappinessDialougesControllerType:
            return  [self HappindessDialougesViewController];
            break;
        case BookLibraryControllerType:
            return  [self bookLibraryViewController];
            break;
        case ShwahedControllerType:
            return  [self shawahedViewController];
            break;
        case VideoLibraryControllerType:
            return  [self videoLibraryViewController];
            break;

        default:
            break;
    }
    return viewController;
}

- (NSString *)titleAtIndex:(NSInteger)index{
    NSString *title;
    switch (index) {
        case WayToHappinessViewControllerType:
            title = @"الطريق إلى السعادة";
            break;
        case HappinessRoadStoryControllerType:
            title = @"رواية طريق السعادة";
            break;
        case HappinessDialougesControllerType:
            title = @"حوارات السعادة";
            break;
        case ShwahedControllerType:
            title = @"الشواهد";
            break;
        case VideoLibraryControllerType:
            title = @"مكتبه الفيديو";
            break;
        case BookLibraryControllerType:
            title = @"مكتبه الكتب";
            break;
        default:
            title = @"";
            break;
    }
    return title;
}

- (PagesViewController *) pagesViewController{
    PagesViewController *pagesViewController = [[[HelpManager sharedHelpManager] storyboard] instantiateViewControllerWithIdentifier:@"PagesViewController"];
    return pagesViewController;
}

- (UIViewController *) WaytoHappindessViewController{
    WayToHappinessSubCategoriesViewController *waytoHappinessViewController = [[[HelpManager sharedHelpManager] storyboard] instantiateViewControllerWithIdentifier:@"WayToHappinessSubCategoriesViewController"];
    UINavigationController *navigationController = [[UINavigationController alloc] initWithRootViewController:waytoHappinessViewController];
    UIImage * image = [UIImage imageNamed:@"Mnu_Back.png"];
    [navigationController.navigationBar setBackgroundImage:image forBarMetrics:UIBarMetricsDefault];
    return navigationController;
}

- (UIViewController *) HappindessDialougesViewController{
    HappinessMainViewController *happinnessDialougesViewController = [[[HelpManager sharedHelpManager] storyboard] instantiateViewControllerWithIdentifier:@"HappinessMainViewController"];
    UINavigationController *navigationController = [[UINavigationController alloc] initWithRootViewController:happinnessDialougesViewController];
    UIImage * image = [UIImage imageNamed:@"Mnu_Back.png"];
    [navigationController.navigationBar setBackgroundImage:image forBarMetrics:UIBarMetricsDefault];
    happinnessDialougesViewController.categoryModel = [[HappinessDialoguesManager sharedHappinessDialoguesManager] happinessDialoguesModel];
    return navigationController;

}

- (UIViewController *) HappindessRoadViewController{
    HappinessMainViewController *happinnessRoadViewController = [[[HelpManager sharedHelpManager] storyboard] instantiateViewControllerWithIdentifier:@"HappinessMainViewController"];
    UINavigationController *navigationController = [[UINavigationController alloc] initWithRootViewController:happinnessRoadViewController];
    UIImage * image = [UIImage imageNamed:@"Mnu_Back.png"];
    [navigationController.navigationBar setBackgroundImage:image forBarMetrics:UIBarMetricsDefault];
    happinnessRoadViewController.categoryModel = [[HappinessRoadManager sharedHappinessRoadManager] happinessRoadModel];
    return navigationController;
}

- (UIViewController *)bookLibraryViewController{
    BooksMainViewController *happinnessRoadViewController = [[[HelpManager sharedHelpManager] storyboard] instantiateViewControllerWithIdentifier:@"BooksMainViewController"];
    UINavigationController *navigationController = [[UINavigationController alloc] initWithRootViewController:happinnessRoadViewController];
    UIImage * image = [UIImage imageNamed:@"Mnu_Back.png"];
    [navigationController.navigationBar setBackgroundImage:image forBarMetrics:UIBarMetricsDefault];
    return navigationController;
}

- (UIViewController *)shawahedViewController{
    ShawahedMainViewController *shawahedMainViewController = [[[HelpManager sharedHelpManager] storyboard] instantiateViewControllerWithIdentifier:@"ShawahedMainViewController"];
    UINavigationController *navigationController = [[UINavigationController alloc] initWithRootViewController:shawahedMainViewController];
    UIImage * image = [UIImage imageNamed:@"Mnu_Back.png"];
    [navigationController.navigationBar setBackgroundImage:image forBarMetrics:UIBarMetricsDefault];
    return navigationController;
}

- (UIViewController *) videoLibraryViewController{
    VideoLibraryViewController *happinnessRoadViewController = [[[HelpManager sharedHelpManager] storyboard] instantiateViewControllerWithIdentifier:@"VideoLibraryViewController"];
    UINavigationController *navigationController = [[UINavigationController alloc] initWithRootViewController:happinnessRoadViewController];
    UIImage * image = [UIImage imageNamed:@"Mnu_Back.png"];
    [navigationController.navigationBar setBackgroundImage:image forBarMetrics:UIBarMetricsDefault];
    return navigationController;
}

- (NSString *)backgrounImageNameForIndex:(NSInteger)index{
    NSString *imageName;
    switch (index) {
        case WayToHappinessViewControllerType:
            imageName = [[HelpManager sharedHelpManager] wayToHappinessHeaderSideMenu];
            break;
        case HappinessRoadStoryControllerType:
            imageName = [[HelpManager sharedHelpManager] storyHeaderSideMenu];
            break;
        case HappinessDialougesControllerType:
            imageName = [[HelpManager sharedHelpManager] happinessDialougeHeaderSideMenu];
            break;
        case ShwahedControllerType:
            imageName = [[HelpManager sharedHelpManager] shawahedHeaderSideMenu];
            break;
        case VideoLibraryControllerType:
            imageName = [[HelpManager sharedHelpManager] VideoHeaderSideMenu];
            break;
        case BookLibraryControllerType:
            imageName = [[HelpManager sharedHelpManager] bookHeaderSideMenu];
            break;
    }
    return imageName;
}

@end
